
<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Corrected Alpine.js x-teleport Examples</title>
    <script defer src="https://unpkg.com/alpinejs@3.x.x/dist/cdn.min.js"></script>
    <script src="https://cdn.tailwindcss.com"></script>
</head>
<body class="bg-gray-100 font-sans text-gray-800">
    <div class="mx-auto px-6 py-10 container">
        <!-- Example 1: Basic Teleport -->
        <div x-data="{ showBasic: false }" class="bg-white shadow mb-6 p-6 rounded-lg">
            <h2 class="mb-4 pb-2 border-b font-semibold text-blue-600 text-2xl">1. Basic Teleport</h2>
            <button class="bg-blue-500 hover:bg-blue-600 px-4 py-2 rounded text-white" @click="showBasic = !showBasic">
                Toggle Basic Teleport
            </button>

            <template x-teleport="body" x-if="showBasic">
                <div class="top-5 left-5 z-50 fixed bg-blue-500 shadow-lg px-4 py-2 rounded text-white">
                    I'm teleported to the body! ðŸš€
                </div>
            </template>
        </div>

        <!-- Example 2: Modal Dialog -->
        <div x-data="{ showModal: false }" class="bg-white shadow mb-6 p-6 rounded-lg">
            <h2 class="mb-4 pb-2 border-b font-semibold text-blue-600 text-2xl">2. Modal Dialog</h2>
            <button class="bg-blue-500 hover:bg-blue-600 px-4 py-2 rounded text-white" @click="showModal = true">
                Open Modal
            </button>

            <template x-teleport="body" x-if="showModal">
                <div class="z-50 fixed inset-0 flex justify-center items-center bg-black bg-opacity-40">
                    <div class="bg-white shadow-lg rounded-lg w-full max-w-lg">
                        <div class="flex justify-between items-center px-4 py-2 border-b">
                            <h3 class="font-semibold text-lg">Modal Title</h3>
                            <button class="text-gray-500 hover:text-gray-700 text-2xl" @click="showModal = false">&times;</button>
                        </div>
                        <div class="p-4">
                            <p>This modal is teleported to the body for proper positioning.</p>
                            <p>Click outside or the "Close" button to exit.</p>
                        </div>
                        <div class="px-4 py-2 border-t text-right">
                            <button class="bg-gray-300 hover:bg-gray-400 px-4 py-2 rounded" @click="showModal = false">Close</button>
                        </div>
                    </div>
                </div>
            </template>
        </div>

        <!-- Example 3: Notification System -->
        <div x-data="notificationHandler()" class="bg-white shadow mb-6 p-6 rounded-lg">
            <h2 class="mb-4 pb-2 border-b font-semibold text-blue-600 text-2xl">3. Notification System</h2>
            <div class="space-x-2">
                <button class="bg-green-500 hover:bg-green-600 px-4 py-2 rounded text-white" @click="addNotification('success', 'Success notification!')">Success</button>
                <button class="bg-red-500 hover:bg-red-600 px-4 py-2 rounded text-white" @click="addNotification('error', 'Error notification!')">Error</button>
                <button class="bg-yellow-500 hover:bg-yellow-600 px-4 py-2 rounded text-white" @click="addNotification('warning', 'Warning notification!')">Warning</button>
            </div>

            <template x-teleport="body">
                <div class="top-5 right-5 z-50 fixed space-y-4">
                    <template x-for="notification in notifications" :key="notification.id">
                        <div class="flex justify-between items-center bg-opacity-90 shadow px-4 py-2 rounded"
                             :class="{ 'bg-green-500 text-white': notification.type === 'success',
                                       'bg-red-500 text-white': notification.type === 'error',
                                       'bg-yellow-500 text-gray-900': notification.type === 'warning' }">
                            <span x-text="notification.message"></span>
                            <button class="ml-4 text-xl" @click="removeNotification(notification.id)">&times;</button>
                        </div>
                    </template>
                </div>
            </template>
        </div>

        <!-- Example 4: Tooltip -->
        <div x-data="tooltipHandler()" class="bg-white shadow mb-6 p-6 rounded-lg">
            <h2 class="mb-4 pb-2 border-b font-semibold text-blue-600 text-2xl">4. Tooltip</h2>
            <span class="bg-yellow-500 px-4 py-2 rounded text-white cursor-pointer"
                  @mouseenter="showTooltip($event, 'This is a tooltip!')"
                  @mouseleave="hideTooltip()">
                Hover me for Tooltip
            </span>

            <template x-teleport="body" x-if="tooltip.show">
                <div class="z-50 fixed bg-black shadow p-2 rounded text-white text-sm"
                     :style="tooltipStyle()">
                    <span x-text="tooltip.text"></span>
                </div>
            </template>
        </div>
    </div>

    <script>
        function notificationHandler() {
            return {
                notifications: [],
                addNotification(type, message) {
                    const id = Date.now();
                    this.notifications.push({ id, type, message });
                    setTimeout(() => this.removeNotification(id), 5000);
                },
                removeNotification(id) {
                    this.notifications = this.notifications.filter(n => n.id !== id);
                }
            };
        }

        function tooltipHandler() {
            return {
                tooltip: { show: false, text: '', x: 0, y: 0 },
                showTooltip(event, text) {
                    const rect = event.target.getBoundingClientRect();
                    this.tooltip.show = true;
                    this.tooltip.text = text;
                    this.tooltip.x = rect.left + window.scrollX + rect.width / 2;
                    this.tooltip.y = rect.top + window.scrollY + rect.height + 8;
                },
                hideTooltip() {
                    this.tooltip.show = false;
                },
                tooltipStyle() {
                    return `top: ${this.tooltip.y}px; left: ${this.tooltip.x}px; transform: translateX(-50%)`;
                }
            };
        }
    </script>
</body>
</html>

